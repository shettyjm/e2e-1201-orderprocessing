DROP TABLE E2E_1201_ORDER_ITEMS;
DROP TABLE E2E_1201_BILLINGINFO;
DROP TABLE E2E_1201_SHIPPINGINFO;
DROP TABLE E2E_1201_PAYMENTINFO;
DROP TABLE E2E_1201_SHIPPING_METHODS;
DROP TABLE E2E_1201_SHIPPING_PROVIDERS;
DROP TABLE E2E_1201_ADDRESSES;
DROP TABLE E2E_1201_ORDERS;


CREATE TABLE E2E_1201_ORDERS
(
ORDER_NUMBER 	NUMBER(19) NOT NULL,
SESSIONID      VARCHAR(20),
ORDER_DATE     DATE    NOT NULL,
TOTAL_AMOUNT   FLOAT, 
EMAIL          VARCHAR(50) NOT NULL,
STATUS         VARCHAR(20) NOT NULL,
CONSTRAINT E2E_1201_ORDERS_PK PRIMARY KEY (ORDER_NUMBER)
);

CREATE TABLE E2E_1201_ORDER_ITEMS
(
ITEM_ID   	NUMBER(19) not null,
ORDER_ID 	 NUMBER(19) NOT NULL,
SKU            VARCHAR(20)  NOT NULL,
QUANTITY       NUMBER(19)     NOT NULL,
UNITPRICE      FLOAT       NOT NULL,
BRAND          VARCHAR(20)  NOT NULL,
MODEL          VARCHAR(20) NOT NULL,
CATEGORY_ID    NUMBER(19)   NOT NULL,
DESCRIPTION       VARCHAR(50) NOT NULL,
CONSTRAINT E2E_1201_ORDER_ITEMS_PK PRIMARY KEY (order_ID, ITEM_ID),
CONSTRAINT E2E_1201_ORDER_ITEMS_ORDER_FK FOREIGN KEY (ORDER_ID)
  REFERENCES E2E_1201_ORDERS (ORDER_NUMBER)
);

CREATE TABLE E2E_1201_ADDRESSES
(
ADDRESS_ID NUMBER(19) not null, 
FIRST_NAME VARCHAR(50),
LAST_NAME VARCHAR(50) NOT NULL,
ADDRESS_LINE1 VARCHAR(180) NOT NULL,
ADDRESS_LINE2 VARCHAR(180),
CITY VARCHAR(25) NOT NULL,
STATE VARCHAR(15) NOT NULL,
ZIP_CODE VARCHAR(15) NOT NULL,
PHONE VARCHAR(11) NOT NULL,
CONSTRAINT E2E_1201_ADDRESSES_PK PRIMARY KEY (ADDRESS_ID)
);

CREATE TABLE E2E_1201_SHIPPING_PROVIDERS
(
PROVIDER_ID  NUMBER(19) NOT NULL, 
NAME VARCHAR(30),
CONSTRAINT E2E_1201_SHIPPING_PROVIDERS_PK PRIMARY KEY (PROVIDER_ID)
);


CREATE TABLE E2E_1201_SHIPPING_METHODS
(
METHODS_ID NUMBER(19) NOT NULL, 
NAME VARCHAR(30),
PROVIDER_ID  NUMBER(19),
CONSTRAINT E2E_1201_SHIPPING_METHODS_PK PRIMARY KEY (METHODS_ID),
CONSTRAINT E2E_1201_BILLINGINFO_PROVID_FK FOREIGN KEY (PROVIDER_ID) 
  REFERENCES E2E_1201_SHIPPING_PROVIDERS (PROVIDER_ID) 
); 
  


CREATE TABLE E2E_1201_BILLINGINFO
(
BILLING_ID 		NUMBER(19) not null,
ORDER_ID 	  	NUMBER(19) NOT NULL,
CARDPAYMENTTYPE   	INTEGER    NOT NULL,
CARDNUM           	VARCHAR(16) NOT NULL,
EXPIREDATE        	VARCHAR(4)  NOT NULL,
CARDNAME          	VARCHAR(50) NOT NULL,
ADDRESS_ID	  	NUMBER(19)       NOT NULL,
AUTHORIZATIONDATE 	DATE,
CONSTRAINT E2E_1201_BILLINGINFO_PK PRIMARY KEY (BILLING_ID),
CONSTRAINT E2E_1201_BILLINGINFO_ORDER_FK FOREIGN KEY (ORDER_ID) 
  REFERENCES E2E_1201_ORDERS (ORDER_NUMBER),
CONSTRAINT E2E_1201_BILLINGINFO_ADDR_FK FOREIGN KEY (ADDRESS_ID) 
  REFERENCES E2E_1201_ADDRESSES (ADDRESS_ID)     
);

CREATE TABLE E2E_1201_SHIPPINGINFO
(
SHIPPING_ID    	NUMBER(19) not null,
ORDER_ID      		NUMBER(19) NOT NULL,
ADDRESS_ID         	NUMBER(19) NOT NULL,
SHIPPING_PROVIDER_ID  NUMBER(19),
SHIPMETHOD       	INTEGER,
SHIPSPEED       	VARCHAR(16),
CONSTRAINT E2E_1201_SHIPPINGINFO_PK PRIMARY KEY (SHIPPING_ID),
CONSTRAINT E2E_1201_SHIPPINGINFO_ORDER_FK FOREIGN KEY (ORDER_ID) 
  REFERENCES E2E_1201_ORDERS (ORDER_NUMBER),
CONSTRAINT E2E_1201_SHIPPINGINFO_ADDR_FK FOREIGN KEY (ADDRESS_ID) 
  REFERENCES E2E_1201_ADDRESSES (ADDRESS_ID),
CONSTRAINT E2E_1201_SHIPPINGINFO_SHIP_FK FOREIGN KEY (SHIPPING_PROVIDER_ID) 
  REFERENCES E2E_1201_SHIPPING_PROVIDERS (PROVIDER_ID)
);



CREATE TABLE E2E_1201_PAYMENTINFO
(
FIRST_NAME VARCHAR(30),
LAST_NAME VARCHAR(30),
PAYMENT_TYPE INTEGER,
CARD_NUM VARCHAR(16),  
EXPIRE_DATE VARCHAR(4), 
CARD_NAME VARCHAR (50),
DAILY_LIMIT FLOAT,
CURRENT_LIMT FLOAT,
CONSTRAINT E2E_1201_PAYMENTINFO_PK PRIMARY KEY (CARD_NUM)
);

-- Sample Data for the Validate Payment Provider --
insert into E2E_1201_PAYMENTINFO VALUES ('Daniel','Day-Lewis',0,'1234123412341234','0316','AMEX',4000.00,0.00);
insert into E2E_1201_PAYMENTINFO VALUES ('Jennifer','Lawrence',0,'4321432143214321','0316','VISA',4000.00,0.00);

-- Data for shipping providers --


insert into E2E_1201_SHIPPING_PROVIDERS VALUES (1, 'USPS');
insert into E2E_1201_SHIPPING_PROVIDERS VALUES (2, 'UPS');
insert into E2E_1201_SHIPPING_PROVIDERS VALUES (3, 'FedEx');

insert into E2E_1201_SHIPPING_METHODS VALUES (1, 'USAFirstClass', 1);
insert into E2E_1201_SHIPPING_METHODS VALUES (2, 'USAPriority', 1);
insert into E2E_1201_SHIPPING_METHODS VALUES (3, 'USAFreeMail', 1);
insert into E2E_1201_SHIPPING_METHODS VALUES (4, 'UPSNextDayAir', 2);
insert into E2E_1201_SHIPPING_METHODS VALUES (5, 'UPS2ndDayAir', 2);
insert into E2E_1201_SHIPPING_METHODS VALUES (6, 'UPS3DaySelectAir', 2);
insert into E2E_1201_SHIPPING_METHODS VALUES (7, 'UPSGround', 2);
insert into E2E_1201_SHIPPING_METHODS VALUES (8, 'IntlStandard', 3);
insert into E2E_1201_SHIPPING_METHODS VALUES (9, 'IntlPlusWithTracking', 3);
insert into E2E_1201_SHIPPING_METHODS VALUES (10, 'UPSSaver', 2);
insert into E2E_1201_SHIPPING_METHODS VALUES (11, 'UPSWorldwideExpedited', 2);
insert into E2E_1201_SHIPPING_METHODS VALUES (12, 'UPSWorldwideExpress ', 2);

-- commit above INSERTs. the javadb script did not have a commit.
COMMIT;
